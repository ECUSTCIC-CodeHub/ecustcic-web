# 校园网连接问题解决方案

## 问题概述

经常有同学反映电脑无法连接校园网，即使尝试重启、断网重连等方式仍无法解决。常见现象是Windows显示无网络连接，微信等可以访问，但是百度等网页无法访问/显示DNS错误。这往往是校园网无法通过DHCP成功获取ipv4地址导致的。本文档提供一种有效的解决方案，特别适用于紧急需要使用网络的情况。

## 解决方案：修改随机MAC地址

根据实践经验，修改无线网卡的随机MAC地址是解决校园网连接问题的有效方法之一。

### 适用场景

- Windows显示无网络连接，但实际上能连接上Wi-Fi
- 微信等应用可以正常访问，但百度等网页无法访问
- 浏览器显示DNS错误
- 重启、断网重连等常规方法无效

### Windows系统操作步骤

1. **连接校园Wi-Fi网络**
   - 首先尝试连接校园网的SSID（如ECUST.1x、ECUST-dorm.1x等）

2. **修改无线网卡随机MAC地址设置**
   - 右键点击任务栏的网络图标，选择「打开网络和Internet设置」
   - 在设置页面中，点击「WLAN」选项
   - 找到您正在连接的校园网（如ecust1.X），点击其名称或「属性」按钮

3. **更改随机硬件地址设置**
   - 在网络属性页面中，找到「随机硬件地址」设置
   - 如果当前设置为「开」，将其切换为「关」；如果当前设置为「关」，将其切换为「开」
   - 点击「保存」按钮应用更改

   ![随机硬件地址设置示例](/docs/faq/2.png)
   > 注：图片来自信息办徐老师

4. **重启网络连接**
   - 断开当前Wi-Fi连接
   - 重新连接校园网Wi-Fi
   - 尝试重启电脑

### macOS系统操作步骤

1. **连接校园Wi-Fi网络**
   - 点击菜单栏的Wi-Fi图标，选择并连接校园网SSID

2. **修改网络设置**
   - 打开「系统偏好设置」→「网络」
   - 选择当前连接的Wi-Fi，点击「高级」
   - 在「硬件」选项卡中，找到MAC地址设置
   - 勾选「随机分配MAC地址」或取消勾选，与当前状态相反

3. **应用设置并重启连接**
   - 点击「确定」保存设置
   - 断开并重新连接Wi-Fi网络
   - 尝试重启电脑

## 其他可能的解决方案

1. **检查账号状态**
   - 确认您的校园网账号处于正常状态，没有欠费或被锁定

2. **清除网络缓存**
   - Windows：在命令提示符中以管理员身份运行 `ipconfig /release` 和 `ipconfig /renew`
   - macOS：在终端中运行 `sudo dscacheutil -flushcache` 和 `sudo killall -HUP mDNSResponder`

3. **尝试不同的网络连接方式**
   - 如果使用无线连接失败，尝试有线连接（如果可用）
   - 尝试连接不同的校园网SSID（如有多个选项）

## 联系支持

如果以上方法都无法解决问题，建议联系学校网络中心寻求进一步帮助：

- 信息化与数据管理中心
- 办公地点及电话：
  - 奉贤校区实验一楼127：33612030
  - 徐汇校区二教104：64252850
- 信管中心邮箱：xgzx@ecust.edu.cn
- 周末热线：18917100279

> 注：本文档提供的方法基于实际经验，具体操作界面可能因操作系统版本不同而略有差异。